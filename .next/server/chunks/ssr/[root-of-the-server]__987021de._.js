module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},58818,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(45209);function f({clients:a,onEdit:c,onDelete:e}){return(0,b.jsx)("div",{className:"bg-gray-700 border border-gray-600 rounded-none overflow-hidden shadow-sm",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm text-left text-gray-400",children:[(0,b.jsx)("thead",{className:"text-xs text-gray-300 uppercase bg-gray-800 border-b border-gray-600",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Nome"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Contactos"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3",children:"NIF"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-center",children:"Perfil"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-center",children:"Veículos"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-center",children:"Ações"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-600",children:a.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-600 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-4 font-medium text-gray-100",children:a.nome}),(0,b.jsxs)("td",{className:"px-6 py-4",children:[(0,b.jsx)("div",{className:"text-gray-200",children:a.email}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:a.telefone})]}),(0,b.jsx)("td",{className:"px-6 py-4 font-mono",children:a.nif}),(0,b.jsx)("td",{className:"px-6 py-4 text-center",children:(0,b.jsx)("span",{className:`px-2 py-1 text-xs font-bold border border-gray-600 ${"Normal"===a.perfil?"bg-blue-900 text-blue-200":"TVDE Interno"===a.perfil?"bg-green-900 text-green-200":"Empresa"===a.perfil?"bg-purple-900 text-purple-200":"bg-gray-900 text-gray-200"}`,children:a.perfil||"Normal"})}),(0,b.jsx)("td",{className:"px-6 py-4 text-center",children:(0,b.jsx)("span",{className:"px-2 py-1 text-xs font-bold bg-gray-800 text-gray-300 border border-gray-600",children:a.veiculos})}),(0,b.jsx)("td",{className:"px-6 py-4 text-center",children:(0,b.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,b.jsx)(d.default,{href:`/clientes/${a.id}/edit`,className:"text-blue-400 hover:text-blue-300 transition-colors",title:"Editar cliente",children:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,b.jsx)("button",{onClick:()=>{window.confirm("Tem certeza que deseja apagar este cliente?")&&e?.(a.id)},className:"text-red-400 hover:text-red-300 transition-colors",title:"Apagar cliente",children:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},a.id))})]})})})}function g(){let[a,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)(!0),[l,m]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/clientes");if(!a.ok)throw Error("Failed to fetch clients");let b=await a.json();g(b)}catch(a){m(a instanceof Error?a.message:"An error occurred")}finally{k(!1)}})()},[]);let n=async a=>{try{(await fetch(`/api/clientes/${a}`,{method:"DELETE"})).ok&&g(b=>b.filter(b=>b.id!==a))}catch(a){console.error("Failed to delete client:",a)}},o=a.filter(a=>a.nome.toLowerCase().includes(h.toLowerCase())||a.nif.includes(h)||a.telefone.includes(h));return(0,b.jsxs)("div",{className:"flex h-screen bg-gray-800",children:[(0,b.jsx)(e.default,{activePage:"clientes"}),(0,b.jsxs)("main",{className:"flex-1 relative overflow-y-auto focus:outline-none p-8",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl font-bold text-gray-100 leading-tight",children:"Clientes"}),(0,b.jsx)("p",{className:"mt-1 text-gray-400",children:"Gerencie a sua base de clientes"})]}),(0,b.jsxs)(d.default,{href:"/clientes/novo",className:"px-4 py-2 bg-brand-yellow-dark text-white font-bold hover:bg-yellow-600 transition-colors rounded-none flex items-center shadow-md",children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Novo Cliente"]})]}),(0,b.jsx)("div",{className:"bg-gray-700 border border-gray-600 p-4 mb-6 rounded-none flex flex-col md:flex-row gap-4",children:(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,b.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,b.jsx)("input",{type:"text",placeholder:"Pesquisar por nome, NIF ou telefone...",value:h,onChange:a=>i(a.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-600 text-white rounded-none focus:ring-1 focus:ring-brand-yellow focus:border-brand-yellow placeholder-gray-500"})]})}),j?(0,b.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,b.jsx)("div",{className:"text-gray-400",children:"Carregando clientes..."})}):l?(0,b.jsxs)("div",{className:"bg-red-900 border border-red-700 text-red-200 p-4 rounded-none",children:["Erro ao carregar clientes: ",l]}):(0,b.jsx)(f,{clients:o,onDelete:n})]})]})}a.s(["default",()=>g],58818)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__987021de._.js.map