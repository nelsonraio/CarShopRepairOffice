module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},58818,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(45209),e=a.i(38246);function f({clients:a}){return(0,b.jsx)("div",{className:"bg-gray-700 border border-gray-600 rounded-none overflow-hidden shadow-sm",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm text-left text-gray-400",children:[(0,b.jsx)("thead",{className:"text-xs text-gray-300 uppercase bg-gray-800 border-b border-gray-600",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Nome"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Contactos"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3",children:"NIF"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-center",children:"Perfil"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-center",children:"Veículos"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-center",children:"Ações"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-600",children:a.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-gray-600 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-4 font-medium text-gray-100",children:a.nome}),(0,b.jsxs)("td",{className:"px-6 py-4",children:[(0,b.jsx)("div",{className:"text-gray-200",children:a.email}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:a.telefone})]}),(0,b.jsx)("td",{className:"px-6 py-4 font-mono",children:a.nif}),(0,b.jsx)("td",{className:"px-6 py-4 text-center",children:(0,b.jsx)("span",{className:`px-2 py-1 text-xs font-bold border border-gray-600 ${"Normal"===a.perfil?"bg-blue-900 text-blue-200":"TVDE Interno"===a.perfil?"bg-green-900 text-green-200":"Empresa"===a.perfil?"bg-purple-900 text-purple-200":"bg-gray-900 text-gray-200"}`,children:a.perfil||"Normal"})}),(0,b.jsx)("td",{className:"px-6 py-4 text-center",children:(0,b.jsx)("span",{className:"px-2 py-1 text-xs font-bold bg-gray-800 text-gray-300 border border-gray-600",children:a.veiculos})}),(0,b.jsx)("td",{className:"px-6 py-4 text-center",children:(0,b.jsx)(e.default,{href:`/clientes/${a.id}`,className:"text-brand-yellow hover:text-brand-yellow-light font-medium transition-colors",children:"Ver Detalhes"})})]},a.id))})]})})})}function g({isOpen:a,onClose:d,onAddClient:e}){let[f,g]=(0,c.useState)({nome:"",nif:"",telefone:"",email:"",endereco:"",perfil:"Normal"}),h=a=>{g(b=>({...b,[a.target.name]:a.target.value}))};return a?(0,b.jsx)("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"bg-gray-800 border border-gray-600 w-full max-w-lg p-6 shadow-2xl relative",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-100 mb-6 border-b border-gray-700 pb-2",children:"Novo Cliente"}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),e({nome:f.nome,email:f.email,telefone:f.telefone,nif:f.nif,endereco:f.endereco,perfil:f.perfil,veiculos:0}),g({nome:"",nif:"",telefone:"",email:"",endereco:"",perfil:"Normal"}),d()},className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Nome Completo *"}),(0,b.jsx)("input",{type:"text",name:"nome",value:f.nome,onChange:h,className:"w-full bg-gray-900 border border-gray-600 text-white px-3 py-2 rounded-none focus:ring-1 focus:ring-brand-yellow focus:border-brand-yellow outline-none placeholder-gray-600",required:!0})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"NIF"}),(0,b.jsx)("input",{type:"text",name:"nif",value:f.nif,onChange:h,className:"w-full bg-gray-900 border border-gray-600 text-white px-3 py-2 rounded-none focus:ring-1 focus:ring-brand-yellow focus:border-brand-yellow outline-none placeholder-gray-600"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Telefone *"}),(0,b.jsx)("input",{type:"tel",name:"telefone",value:f.telefone,onChange:h,className:"w-full bg-gray-900 border border-gray-600 text-white px-3 py-2 rounded-none focus:ring-1 focus:ring-brand-yellow focus:border-brand-yellow outline-none placeholder-gray-600",required:!0})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Email"}),(0,b.jsx)("input",{type:"email",name:"email",value:f.email,onChange:h,className:"w-full bg-gray-900 border border-gray-600 text-white px-3 py-2 rounded-none focus:ring-1 focus:ring-brand-yellow focus:border-brand-yellow outline-none placeholder-gray-600"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Morada"}),(0,b.jsx)("textarea",{name:"endereco",value:f.endereco,onChange:h,rows:2,className:"w-full bg-gray-900 border border-gray-600 text-white px-3 py-2 rounded-none focus:ring-1 focus:ring-brand-yellow focus:border-brand-yellow outline-none placeholder-gray-600"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Perfil de Cliente"}),(0,b.jsxs)("select",{name:"perfil",value:f.perfil,onChange:h,className:"w-full bg-gray-900 border border-gray-600 text-white px-3 py-2 rounded-none focus:ring-1 focus:ring-brand-yellow focus:border-brand-yellow outline-none",children:[(0,b.jsx)("option",{value:"Normal",children:"Normal"}),(0,b.jsx)("option",{value:"TVDE Interno",children:"TVDE Interno"}),(0,b.jsx)("option",{value:"Empresa",children:"Empresa"})]})]}),(0,b.jsxs)("div",{className:"flex justify-end space-x-3 mt-8 pt-4 border-t border-gray-700",children:[(0,b.jsx)("button",{type:"button",onClick:d,className:"px-4 py-2 bg-gray-700 text-gray-300 hover:bg-gray-600 transition-colors rounded-none border border-gray-600",children:"Cancelar"}),(0,b.jsx)("button",{type:"submit",className:"px-4 py-2 bg-brand-yellow text-gray-900 font-bold hover:bg-brand-yellow-dark transition-colors rounded-none",children:"Guardar"})]})]})]})}):null}function h(){let[a,e]=(0,c.useState)([]),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(!0),[n,o]=(0,c.useState)(null);(0,c.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/clientes");if(!a.ok)throw Error("Failed to fetch clients");let b=await a.json();e(b)}catch(a){o(a instanceof Error?a.message:"An error occurred")}finally{m(!1)}})()},[]);let p=a.filter(a=>a.nome.toLowerCase().includes(j.toLowerCase())||a.nif.includes(j)||a.telefone.includes(j));return(0,b.jsxs)("div",{className:"flex h-screen bg-gray-800",children:[(0,b.jsx)(d.default,{activePage:"clientes"}),(0,b.jsxs)("main",{className:"flex-1 relative overflow-y-auto focus:outline-none p-8",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl font-bold text-gray-100 leading-tight",children:"Clientes"}),(0,b.jsx)("p",{className:"mt-1 text-gray-400",children:"Gerencie a sua base de clientes"})]}),(0,b.jsxs)("button",{onClick:()=>i(!0),className:"px-4 py-2 bg-brand-yellow-dark text-white font-bold hover:bg-yellow-600 transition-colors rounded-none flex items-center shadow-md",children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Novo Cliente"]})]}),(0,b.jsx)("div",{className:"bg-gray-700 border border-gray-600 p-4 mb-6 rounded-none flex flex-col md:flex-row gap-4",children:(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,b.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,b.jsx)("input",{type:"text",placeholder:"Pesquisar por nome, NIF ou telefone...",value:j,onChange:a=>k(a.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-600 text-white rounded-none focus:ring-1 focus:ring-brand-yellow focus:border-brand-yellow placeholder-gray-500"})]})}),l?(0,b.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,b.jsx)("div",{className:"text-gray-400",children:"Carregando clientes..."})}):n?(0,b.jsxs)("div",{className:"bg-red-900 border border-red-700 text-red-200 p-4 rounded-none",children:["Erro ao carregar clientes: ",n]}):(0,b.jsx)(f,{clients:p})]}),(0,b.jsx)(g,{isOpen:h,onClose:()=>i(!1),onAddClient:a=>{let b={...a,id:Date.now().toString(),dataRegistro:new Date().getFullYear().toString(),totalGasto:0,visitas:0};e(a=>[...a,b])}})]})}a.s(["default",()=>h],58818)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__987021de._.js.map