module.exports=[8461,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(45209);let e=[{id:"1",number:"ORC-2024-001",clientId:"1",vehicleId:"1",total:147.6,items:[{id:"PART-001",name:"Filtro de Óleo Bosch",quantity:1,unitPrice:12.5,unit:"un",total:12.5},{id:"SERV-001",name:"Mão de Obra (Hora)",quantity:2,unitPrice:45,unit:"h",total:90}]},{id:"2",number:"ORC-2024-002",clientId:"2",vehicleId:"2",total:104.55,items:[{id:"SERV-002",name:"Inspeção Periódica",quantity:1,unitPrice:85,unit:"un",total:85}]}];a.s(["default",0,()=>{let[a,f]=(0,c.useState)(""),[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(!1),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(0),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)("");(0,c.useEffect)(()=>{u()},[]),(0,c.useEffect)(()=>{n(k.reduce((a,b)=>a+b.total,0))},[k]);let u=()=>{let a=Math.floor(1e3+9e3*Math.random()),b=new Date().getFullYear();f(`OT-${b}-${String(a).padStart(3,"0")}`)},v=[{id:"SERV-001",name:"Mão de Obra (Hora)",type:"service",price:45,unit:"h"},{id:"SERV-002",name:"Diagnóstico Computorizado",type:"service",price:35,unit:"un"},{id:"SERV-003",name:"Alinhamento de Direção",type:"service",price:40,unit:"un"},{id:"PART-001",name:"Filtro de Óleo Bosch",type:"part",price:12.5,unit:"un"},{id:"PART-002",name:"Óleo Castrol Edge 5W30 (5L)",type:"part",price:55,unit:"un"},{id:"PART-003",name:"Pastilhas Travão Brembo (Frente)",type:"part",price:45.9,unit:"un"},{id:"PART-004",name:"Filtro de Ar Mann",type:"part",price:15.8,unit:"un"},{id:"PART-005",name:"Vela de Ignição NGK",type:"part",price:18.2,unit:"un"}].filter(a=>a.name.toLowerCase().includes(g.toLowerCase())||a.id.toLowerCase().includes(g.toLowerCase()));return(0,b.jsxs)("div",{className:"flex h-screen bg-gray-800",children:[(0,b.jsx)(d.default,{activePage:"ordens-trabalho"}),(0,b.jsx)("main",{className:"flex-1 relative overflow-y-auto focus:outline-none p-8",children:(0,b.jsxs)("div",{className:"max-w-5xl mx-auto bg-gray-700 rounded-none shadow-lg border border-gray-600",children:[(0,b.jsx)("header",{className:"bg-gray-900 rounded-t-none p-6 border-b border-gray-600",children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-100",children:"Nova Ordem de Trabalho"}),(0,b.jsxs)("p",{className:"text-sm text-gray-400 mt-1",children:["Nº OT: ",(0,b.jsx)("span",{className:"font-mono text-brand-yellow",children:a})]})]}),(0,b.jsxs)("div",{className:"flex space-x-3",children:[(0,b.jsxs)("button",{className:"px-4 py-2 bg-gray-600 text-gray-200 font-medium hover:bg-gray-500 transition-colors rounded-none flex items-center",children:[(0,b.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Imprimir"]}),(0,b.jsx)("button",{className:"px-4 py-2 bg-gray-600 text-gray-200 font-medium hover:bg-gray-500 transition-colors rounded-none",children:"Voltar"}),(0,b.jsxs)("button",{className:"px-4 py-2 bg-brand-yellow text-gray-900 font-bold hover:bg-brand-yellow-dark transition-colors rounded-none flex items-center",children:[(0,b.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),"Guardar"]})]})]})}),(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"mb-6 bg-gray-800 p-4 border border-gray-600 rounded-none",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-brand-yellow mb-2",children:"Importar de Orçamento Aprovado"}),(0,b.jsxs)("select",{className:"w-full bg-gray-700 border border-gray-500 text-white px-3 py-2 rounded-none focus:ring-1 focus:ring-brand-yellow focus:border-brand-yellow outline-none transition-colors",value:s,onChange:a=>{let b=a.target.value;if(t(b),b){let a=e.find(a=>a.id===b);a&&(p(a.clientId),r(a.vehicleId),l(a.items.map(a=>({...a,id:a.id}))))}},children:[(0,b.jsx)("option",{value:"",children:"Selecione um orçamento para converter..."}),e.map(a=>(0,b.jsxs)("option",{value:a.id,children:[a.number," - Total: €",a.total.toFixed(2)]},a.id))]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Cliente"}),(0,b.jsxs)("select",{className:"w-full bg-gray-800 border border-gray-600 text-white px-3 py-2 rounded-none focus:ring-1 focus:ring-brand-yellow focus:border-brand-yellow outline-none transition-colors",value:o,onChange:a=>p(a.target.value),children:[(0,b.jsx)("option",{value:"",children:"Selecione um cliente..."}),(0,b.jsx)("option",{value:"1",children:"João Silva"}),(0,b.jsx)("option",{value:"2",children:"Maria Santos"}),(0,b.jsx)("option",{value:"3",children:"Pedro Costa"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Veículo"}),(0,b.jsxs)("select",{className:"w-full bg-gray-800 border border-gray-600 text-white px-3 py-2 rounded-none focus:ring-1 focus:ring-brand-yellow focus:border-brand-yellow outline-none transition-colors",value:q,onChange:a=>r(a.target.value),children:[(0,b.jsx)("option",{value:"",children:"Selecione um veículo..."}),(0,b.jsx)("option",{value:"1",children:"Peugeot 308 | 45-GH-23"}),(0,b.jsx)("option",{value:"2",children:"Renault Clio | 12-AB-34"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Mecânico Responsável"}),(0,b.jsxs)("select",{className:"w-full bg-gray-800 border border-gray-600 text-white px-3 py-2 rounded-none focus:ring-1 focus:ring-brand-yellow focus:border-brand-yellow outline-none transition-colors",children:[(0,b.jsx)("option",{value:"",children:"Selecione um mecânico..."}),(0,b.jsx)("option",{value:"1",children:"Carlos P."}),(0,b.jsx)("option",{value:"2",children:"Rui Alves"}),(0,b.jsx)("option",{value:"3",children:"Joaquim F."})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Data de Abertura"}),(0,b.jsx)("input",{type:"date",defaultValue:new Date().toISOString().split("T")[0],className:"w-full bg-gray-800 border border-gray-600 text-white px-3 py-2 rounded-none focus:ring-1 focus:ring-brand-yellow focus:border-brand-yellow outline-none transition-colors"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Prioridade"}),(0,b.jsxs)("select",{className:"w-full bg-gray-800 border border-gray-600 text-white px-3 py-2 rounded-none focus:ring-1 focus:ring-brand-yellow focus:border-brand-yellow outline-none transition-colors",children:[(0,b.jsx)("option",{value:"baixa",children:"Baixa"}),(0,b.jsx)("option",{value:"normal",children:"Normal"}),(0,b.jsx)("option",{value:"alta",children:"Alta"}),(0,b.jsx)("option",{value:"urgente",children:"Urgente"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Estado"}),(0,b.jsxs)("select",{className:"w-full bg-gray-800 border border-gray-600 text-white px-3 py-2 rounded-none focus:ring-1 focus:ring-brand-yellow focus:border-brand-yellow outline-none transition-colors",children:[(0,b.jsx)("option",{value:"aberta",children:"Aberta"}),(0,b.jsx)("option",{value:"em_andamento",children:"Em Andamento"}),(0,b.jsx)("option",{value:"concluida",children:"Concluída"}),(0,b.jsx)("option",{value:"cancelada",children:"Cancelada"})]})]})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Descrição do Problema"}),(0,b.jsx)("textarea",{rows:4,placeholder:"Descreva o problema relatado pelo cliente...",className:"w-full bg-gray-800 border border-gray-600 text-white px-3 py-2 rounded-none focus:ring-1 focus:ring-brand-yellow focus:border-brand-yellow outline-none transition-colors resize-none"})]}),(0,b.jsx)("hr",{className:"border-gray-600 mb-6"}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-gray-200 mb-4",children:"Itens da Ordem de Trabalho"}),(0,b.jsxs)("div",{className:"relative mb-4",children:[(0,b.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,b.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,b.jsx)("input",{type:"text",placeholder:"Pesquisar peça ou serviço para adicionar...",className:"w-full pl-10 pr-4 py-2.5 bg-gray-800 border border-gray-600 text-white rounded-none focus:ring-2 focus:ring-brand-yellow focus:border-brand-yellow transition placeholder-gray-500",value:g,onChange:a=>{h(a.target.value),j(a.target.value.length>=2)},onBlur:()=>setTimeout(()=>j(!1),200)}),i&&(0,b.jsx)("div",{className:"absolute z-10 w-full bg-gray-700 border border-gray-600 shadow-lg max-h-60 overflow-y-auto",children:v.map(a=>(0,b.jsx)("div",{className:"p-3 hover:bg-gray-600 cursor-pointer border-b border-gray-600 last:border-0",onClick:()=>{l([...k,{id:a.id,name:a.name,quantity:1,unitPrice:a.price,unit:a.unit,total:a.price}]),h(""),j(!1)},children:(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"font-medium text-gray-200",children:a.name}),(0,b.jsxs)("div",{className:"text-xs text-gray-400",children:[a.id," • ","service"===a.type?"Serviço":"Peça"]})]}),(0,b.jsxs)("div",{className:"text-brand-yellow font-mono",children:["€",a.price.toFixed(2)]})]})},a.id))})]}),(0,b.jsx)("div",{className:"overflow-x-auto rounded-none border border-gray-600",children:(0,b.jsxs)("table",{className:"w-full text-sm text-left text-gray-400",children:[(0,b.jsx)("thead",{className:"text-xs text-gray-400 uppercase bg-gray-800",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 w-1/2",children:"Descrição"}),(0,b.jsx)("th",{className:"px-6 py-3 text-right",children:"Qtd/Horas"}),(0,b.jsx)("th",{className:"px-6 py-3 text-right",children:"Preço Unit."}),(0,b.jsx)("th",{className:"px-6 py-3 text-right",children:"Total"}),(0,b.jsx)("th",{className:"px-6 py-3 text-center",children:"Ações"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-600",children:0===k.length?(0,b.jsx)("tr",{children:(0,b.jsxs)("td",{colSpan:5,className:"px-6 py-12 text-center text-gray-500",children:[(0,b.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-600 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),(0,b.jsx)("p",{children:"Nenhum item adicionado."}),(0,b.jsx)("p",{className:"text-xs mt-1",children:"Utilize a pesquisa acima para adicionar peças ou serviços."})]})}):k.map((a,c)=>(0,b.jsxs)("tr",{className:"bg-gray-800 hover:bg-gray-700 transition-colors",children:[(0,b.jsxs)("td",{className:"px-6 py-4",children:[(0,b.jsx)("div",{className:"font-medium text-gray-200",children:a.name}),(0,b.jsx)("div",{className:"text-xs text-gray-500",children:a.id})]}),(0,b.jsxs)("td",{className:"px-6 py-4 text-right",children:[(0,b.jsx)("input",{type:"number",value:a.quantity,min:"0.1",step:"0.1",className:"w-20 bg-gray-900 border border-gray-600 text-white px-2 py-1 text-right rounded-none focus:ring-1 focus:ring-brand-yellow outline-none",onChange:a=>{var b;let d;return b=parseFloat(a.target.value)||0,void((d=[...k])[c].quantity=b,d[c].total=b*d[c].unitPrice,l(d))}}),(0,b.jsx)("span",{className:"text-xs text-gray-500 ml-1",children:a.unit})]}),(0,b.jsxs)("td",{className:"px-6 py-4 text-right text-gray-400",children:["€",a.unitPrice.toFixed(2)]}),(0,b.jsxs)("td",{className:"px-6 py-4 text-right font-medium text-gray-200",children:["€",a.total.toFixed(2)]}),(0,b.jsx)("td",{className:"px-6 py-4 text-center",children:(0,b.jsx)("button",{onClick:()=>{l(k.filter((a,b)=>b!==c))},className:"text-gray-500 hover:text-red-400 transition-colors",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},c))})]})})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Descrição da Solução"}),(0,b.jsx)("textarea",{rows:4,placeholder:"Descreva a solução implementada...",className:"w-full bg-gray-800 border border-gray-600 text-white px-3 py-2 rounded-none focus:ring-1 focus:ring-brand-yellow focus:border-brand-yellow outline-none transition-colors resize-none"})]}),(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Observações"}),(0,b.jsx)("textarea",{rows:3,placeholder:"Observações adicionais...",className:"w-full bg-gray-800 border border-gray-600 text-white px-3 py-2 rounded-none focus:ring-1 focus:ring-brand-yellow focus:border-brand-yellow outline-none transition-colors resize-none"})]}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsx)("div",{className:"w-full md:w-1/3 bg-gray-800 p-4 border border-gray-600 rounded-none",children:(0,b.jsxs)("div",{className:"flex justify-between py-3 mt-2",children:[(0,b.jsx)("span",{className:"text-xl font-bold text-gray-100",children:"Total Estimado"}),(0,b.jsxs)("span",{className:"text-xl font-bold text-brand-yellow",children:["€",m.toFixed(2)]})]})})})]})]})})]})}])}];

//# sourceMappingURL=src_app_ordens-trabalho_novo_page_tsx_e4e8989e._.js.map