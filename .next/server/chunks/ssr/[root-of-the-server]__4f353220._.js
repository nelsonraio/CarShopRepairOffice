module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},11893,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38246),e=a.i(45209);a.s(["default",0,()=>{let[a,f]=(0,c.useState)(""),[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)(""),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)([]),[o,p]=(0,c.useState)(!0),[q,r]=(0,c.useState)(null);return(0,c.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/ordens-trabalho");if(!a.ok)throw Error("Failed to fetch work orders");let b=await a.json();l(b),n(b)}catch(a){r(a instanceof Error?a.message:"An error occurred")}finally{p(!1)}})()},[]),(0,c.useEffect)(()=>{n(k.filter(b=>{let c=b.client.toLowerCase().includes(a.toLowerCase())||b.vehicle.toLowerCase().includes(a.toLowerCase())||b.id.toLowerCase().includes(a.toLowerCase())||b.mechanic.toLowerCase().includes(a.toLowerCase()),d=""===g||b.status===g,e=""===i||b.priority===i;return c&&d&&e}))},[a,g,i,k]),(0,b.jsxs)("div",{className:"flex h-screen bg-gray-800",children:[(0,b.jsx)(e.default,{activePage:"ordens-trabalho"}),(0,b.jsxs)("main",{className:"flex-1 relative overflow-y-auto focus:outline-none p-8",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl font-bold text-gray-100 leading-tight",children:"Ordens de Trabalho"}),(0,b.jsx)("p",{className:"mt-1 text-gray-400",children:"Gerencie as ordens de trabalho ativas"})]}),(0,b.jsx)("div",{className:"flex gap-3",children:(0,b.jsxs)(d.default,{href:"/ordens-trabalho/novo",className:"px-4 py-2 bg-brand-yellow-dark text-white font-bold hover:bg-yellow-600 transition-colors rounded-none flex items-center shadow-md",children:[(0,b.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Nova OT"]})})]}),(0,b.jsx)("div",{className:"max-w-7xl mx-auto bg-gray-700 rounded-none shadow-lg border border-gray-600",children:(0,b.jsxs)("div",{className:"p-6",children:[(0,b.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 mb-6",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)("svg",{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),(0,b.jsx)("input",{type:"text",placeholder:"Procurar por cliente, veículo, OT ou mecânico...",className:"w-full pl-10 pr-4 py-2.5 bg-gray-800 border border-gray-600 text-white rounded-none focus:ring-2 focus:ring-brand-yellow focus:border-brand-yellow transition placeholder-gray-500",value:a,onChange:a=>f(a.target.value)})]}),(0,b.jsx)("div",{className:"w-full lg:w-48",children:(0,b.jsxs)("select",{className:"w-full px-4 py-2.5 bg-gray-800 border border-gray-600 text-white rounded-none focus:ring-2 focus:ring-brand-yellow focus:border-brand-yellow transition",value:g,onChange:a=>h(a.target.value),children:[(0,b.jsx)("option",{value:"",children:"Todos os Estados"}),(0,b.jsx)("option",{value:"Aberta",children:"Aberta"}),(0,b.jsx)("option",{value:"Em Andamento",children:"Em Andamento"}),(0,b.jsx)("option",{value:"Concluída",children:"Concluída"}),(0,b.jsx)("option",{value:"Cancelada",children:"Cancelada"})]})}),(0,b.jsx)("div",{className:"w-full lg:w-48",children:(0,b.jsxs)("select",{className:"w-full px-4 py-2.5 bg-gray-800 border border-gray-600 text-white rounded-none focus:ring-2 focus:ring-brand-yellow focus:border-brand-yellow transition",value:i,onChange:a=>j(a.target.value),children:[(0,b.jsx)("option",{value:"",children:"Todas as Prioridades"}),(0,b.jsx)("option",{value:"Baixa",children:"Baixa"}),(0,b.jsx)("option",{value:"Normal",children:"Normal"}),(0,b.jsx)("option",{value:"Alta",children:"Alta"}),(0,b.jsx)("option",{value:"Urgente",children:"Urgente"})]})})]}),o?(0,b.jsx)("div",{className:"flex justify-center items-center py-8",children:(0,b.jsx)("div",{className:"text-gray-400",children:"Carregando ordens de trabalho..."})}):q?(0,b.jsxs)("div",{className:"bg-red-900 border border-red-700 text-red-200 p-4 rounded-none",children:["Erro ao carregar ordens de trabalho: ",q]}):(0,b.jsx)("div",{className:"overflow-x-auto rounded-none border border-gray-600",children:(0,b.jsxs)("table",{className:"w-full text-sm text-left text-gray-400",children:[(0,b.jsx)("thead",{className:"text-xs text-gray-300 uppercase bg-gray-800 border-b border-gray-600",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Nº OT"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Cliente"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Veículo"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Mecânico"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Data Abertura"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Data Fechamento"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-center",children:"Prioridade"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-center",children:"Estado"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-center",children:"Ações"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-600",children:0===m.length?(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:9,className:"px-6 py-8 text-center text-gray-500",children:"Nenhuma ordem de trabalho encontrada."})}):m.map(a=>(0,b.jsxs)("tr",{className:"bg-gray-800 hover:bg-gray-700 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-4 font-medium text-gray-200 whitespace-nowrap",children:a.id}),(0,b.jsx)("td",{className:"px-6 py-4",children:a.client}),(0,b.jsx)("td",{className:"px-6 py-4 text-gray-400",children:a.vehicle}),(0,b.jsx)("td",{className:"px-6 py-4 text-gray-400",children:a.mechanic}),(0,b.jsx)("td",{className:"px-6 py-4 text-gray-400",children:a.openDate}),(0,b.jsx)("td",{className:"px-6 py-4 text-gray-400",children:a.closeDate||"-"}),(0,b.jsx)("td",{className:"px-6 py-4 text-center",children:(0,b.jsx)("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${(a=>{switch(a){case"Baixa":return"text-gray-400 bg-gray-900/30 border border-gray-900";case"Normal":return"text-blue-400 bg-blue-900/30 border border-blue-900";case"Alta":return"text-orange-400 bg-orange-900/30 border border-orange-900";case"Urgente":return"text-red-400 bg-red-900/30 border border-red-900";default:return"text-gray-400 bg-gray-800 border border-gray-700"}})(a.priority)}`,children:a.priority})}),(0,b.jsx)("td",{className:"px-6 py-4 text-center",children:(0,b.jsx)("span",{className:`px-2.5 py-1 rounded-full text-xs font-medium ${(a=>{switch(a){case"Aberta":return"text-blue-400 bg-blue-900/30 border border-blue-900";case"Em Andamento":return"text-yellow-400 bg-yellow-900/30 border border-yellow-900";case"Concluída":return"text-green-400 bg-green-900/30 border border-green-900";case"Cancelada":return"text-red-400 bg-red-900/30 border border-red-900";default:return"text-gray-400 bg-gray-800 border border-gray-700"}})(a.status)}`,children:a.status})}),(0,b.jsx)("td",{className:"px-6 py-4 text-center",children:(0,b.jsxs)("div",{className:"flex justify-center space-x-2",children:[(0,b.jsx)("button",{className:"text-blue-400 hover:text-blue-300 transition-colors",title:"Editar",children:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})}),(0,b.jsx)("button",{className:"text-red-400 hover:text-red-300 transition-colors",title:"Eliminar",children:(0,b.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},a.id))})]})})]})})]})]})}])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__4f353220._.js.map