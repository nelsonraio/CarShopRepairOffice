{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/module.compiled.js","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../src/app/clientes/page.tsx","../../../../src/components/ClientTable.tsx"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxRuntime\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport Link from \"next/link\";\r\nimport Sidebar from \"../../components/Sidebar\";\r\nimport ClientTable from \"../../components/ClientTable\";\r\nimport ClientModal from \"../../components/ClientModal\";\r\nimport type { Cliente } from \"../../data/mockData\";\r\n\r\nexport default function ClientesPage() {\r\n  const [clients, setClients] = useState<Cliente[]>([]);\r\n\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n\r\n  useEffect(() => {\r\n    const fetchClients = async () => {\r\n      try {\r\n        const response = await fetch('/api/clientes');\r\n        if (!response.ok) {\r\n          throw new Error('Failed to fetch clients');\r\n        }\r\n        const data = await response.json();\r\n        setClients(data);\r\n      } catch (err) {\r\n        setError(err instanceof Error ? err.message : 'An error occurred');\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchClients();\r\n  }, []);\r\n\r\n  const handleAddClient = async (newClient: Omit<Cliente, 'id' | 'dataRegistro' | 'totalGasto' | 'visitas'>) => {\r\n    try {\r\n      const response = await fetch('/api/clientes', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify(newClient)\r\n      });\r\n      if (response.ok) {\r\n        const savedClient = await response.json();\r\n        setClients(prev => [...prev, savedClient]);\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to add client:', err);\r\n    }\r\n  };\r\n\r\n\r\n\r\n  const handleDelete = async (id: string) => {\r\n    try {\r\n      const response = await fetch(`/api/clientes/${id}`, {\r\n        method: 'DELETE'\r\n      });\r\n      if (response.ok) {\r\n        setClients(prev => prev.filter(c => c.id !== id));\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to delete client:', err);\r\n    }\r\n  };\r\n\r\n\r\n  const filteredClients = clients.filter(client =>\r\n    client.nome.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    client.nif.includes(searchTerm) ||\r\n    client.telefone.includes(searchTerm)\r\n  );\r\n\r\n  return (\r\n    <div className=\"flex h-screen bg-gray-800\">\r\n      <Sidebar activePage=\"clientes\" />\r\n\r\n      <main className=\"flex-1 relative overflow-y-auto focus:outline-none p-8\">\r\n        {/* Header */}\r\n        <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4\">\r\n          <div>\r\n            <h2 className=\"text-3xl font-bold text-gray-100 leading-tight\">Clientes</h2>\r\n            <p className=\"mt-1 text-gray-400\">Gerencie a sua base de clientes</p>\r\n          </div>\r\n          <Link\r\n            href=\"/clientes/novo\"\r\n            className=\"px-4 py-2 bg-brand-yellow-dark text-white font-bold hover:bg-yellow-600 transition-colors rounded-none flex items-center shadow-md\"\r\n          >\r\n            <svg className=\"w-4 h-4 mr-2\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M12 4v16m8-8H4\"></path>\r\n            </svg>\r\n            Novo Cliente\r\n          </Link>\r\n        </div>\r\n\r\n        {/* Filters & Search */}\r\n        <div className=\"bg-gray-700 border border-gray-600 p-4 mb-6 rounded-none flex flex-col md:flex-row gap-4\">\r\n          <div className=\"flex-1 relative\">\r\n            <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n              <svg className=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"></path>\r\n              </svg>\r\n            </div>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Pesquisar por nome, NIF ou telefone...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              className=\"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-600 text-white rounded-none focus:ring-1 focus:ring-brand-yellow focus:border-brand-yellow placeholder-gray-500\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Table */}\r\n        {loading ? (\r\n          <div className=\"flex justify-center items-center py-8\">\r\n            <div className=\"text-gray-400\">Carregando clientes...</div>\r\n          </div>\r\n        ) : error ? (\r\n          <div className=\"bg-red-900 border border-red-700 text-red-200 p-4 rounded-none\">\r\n            Erro ao carregar clientes: {error}\r\n          </div>\r\n        ) : (\r\n          <ClientTable\r\n            clients={filteredClients}\r\n            onDelete={handleDelete}\r\n          />\r\n\r\n        )}\r\n      </main>\r\n\r\n    </div>\r\n\r\n  );\r\n}\r\n","\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport type { Cliente } from \"../data/mockData\";\r\n\r\ninterface ClientTableProps {\r\n  clients: Cliente[];\r\n  onEdit?: (client: Cliente) => void;\r\n  onDelete?: (id: string) => void;\r\n}\r\n\r\nexport default function ClientTable({ clients, onEdit, onDelete }: ClientTableProps) {\r\n\r\n  return (\r\n    <div className=\"bg-gray-700 border border-gray-600 rounded-none overflow-hidden shadow-sm\">\r\n      <div className=\"overflow-x-auto\">\r\n        <table className=\"w-full text-sm text-left text-gray-400\">\r\n          <thead className=\"text-xs text-gray-300 uppercase bg-gray-800 border-b border-gray-600\">\r\n            <tr>\r\n              <th scope=\"col\" className=\"px-6 py-3\">Nome</th>\r\n              <th scope=\"col\" className=\"px-6 py-3\">Contactos</th>\r\n              <th scope=\"col\" className=\"px-6 py-3\">NIF</th>\r\n              <th scope=\"col\" className=\"px-6 py-3 text-center\">Perfil</th>\r\n              <th scope=\"col\" className=\"px-6 py-3 text-center\">Veículos</th>\r\n              <th scope=\"col\" className=\"px-6 py-3 text-center\">Ações</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"divide-y divide-gray-600\">\r\n            {clients.map(client => (\r\n              <tr key={client.id} className=\"hover:bg-gray-600 transition-colors\">\r\n                <td className=\"px-6 py-4 font-medium text-gray-100\">{client.nome}</td>\r\n                <td className=\"px-6 py-4\">\r\n                  <div className=\"text-gray-200\">{client.email}</div>\r\n                  <div className=\"text-xs text-gray-500\">{client.telefone}</div>\r\n                </td>\r\n                <td className=\"px-6 py-4 font-mono\">{client.nif}</td>\r\n                <td className=\"px-6 py-4 text-center\">\r\n                  <span className={`px-2 py-1 text-xs font-bold border border-gray-600 ${\r\n                    client.perfil === 'Normal' ? 'bg-blue-900 text-blue-200' :\r\n                    client.perfil === 'TVDE Interno' ? 'bg-green-900 text-green-200' :\r\n                    client.perfil === 'Empresa' ? 'bg-purple-900 text-purple-200' :\r\n                    'bg-gray-900 text-gray-200'\r\n                  }`}>\r\n                    {client.perfil || 'Normal'}\r\n                  </span>\r\n                </td>\r\n                <td className=\"px-6 py-4 text-center\">\r\n                  <span className=\"px-2 py-1 text-xs font-bold bg-gray-800 text-gray-300 border border-gray-600\">\r\n                    {client.veiculos}\r\n                  </span>\r\n                </td>\r\n                <td className=\"px-6 py-4 text-center\">\r\n                  <div className=\"flex justify-center space-x-2\">\r\n                    <Link\r\n                      href={`/clientes/${client.id}/edit`}\r\n                      className=\"text-blue-400 hover:text-blue-300 transition-colors\"\r\n                      title=\"Editar cliente\"\r\n                    >\r\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\"></path>\r\n                      </svg>\r\n                    </Link>\r\n                    <button\r\n                      onClick={() => {\r\n                        if (window.confirm('Tem certeza que deseja apagar este cliente?')) {\r\n                          onDelete?.(client.id);\r\n                        }\r\n                      }}\r\n                      className=\"text-red-400 hover:text-red-300 transition-colors\"\r\n                      title=\"Apagar cliente\"\r\n                    >\r\n                      <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\"></path>\r\n                      </svg>\r\n                    </button>\r\n                  </div>\r\n                </td>\r\n\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK","vendored","ReactJsxRuntime","React","AppRouterContext","ReactServerDOMTurbopackClient"],"mappings":"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","ignoreList":[0,1,2,3,4]}