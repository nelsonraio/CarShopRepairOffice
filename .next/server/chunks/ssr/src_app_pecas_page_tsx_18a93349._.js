module.exports=[71547,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(45209);function e({parts:a}){return(0,b.jsxs)("div",{className:"bg-gray-700 border border-gray-600 rounded-none overflow-hidden shadow-sm",children:[(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm text-left text-gray-400",children:[(0,b.jsx)("thead",{className:"text-xs text-gray-300 uppercase bg-gray-800 border-b border-gray-600",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Referência"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Nome da Peça"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Categoria"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Fornecedor"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Stock"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-right",children:"Preço Unit."}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-center",children:"Ações"})]})}),(0,b.jsxs)("tbody",{className:"divide-y divide-gray-600",children:[a.map(a=>{var c;return(0,b.jsxs)("tr",{className:"hover:bg-gray-600 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-4 font-medium text-gray-200 font-mono",children:a.reference}),(0,b.jsx)("td",{className:"px-6 py-4 text-gray-100",children:a.name}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:"px-2 py-1 text-xs font-semibold bg-gray-800 text-gray-300 border border-gray-600",children:{motor:"Motor",travoes:"Travões",suspensao:"Suspensão",transmissao:"Transmissão","sistema-eletrico":"Sistema Elétrico","sistema-arrefecimento":"Sistema de Arrefecimento",filtros:"Filtros",acessorios:"Acessórios",carrocaria:"Carroçaria",vidros:"Vidros","pneus-rodas":"Pneus e Rodas",lubrificantes:"Lubrificantes",exaustao:"Exaustão",direcao:"Direção","ar-condicionado":"Ar Condicionado"}[c=a.category]||c})}),(0,b.jsx)("td",{className:"px-6 py-4 text-gray-300",children:a.supplier}),(0,b.jsxs)("td",{className:"px-6 py-4 font-bold",style:{color:((a,b)=>{switch(a){case"em_stock":return"text-green-400";case"baixo_stock":return"text-yellow-400";case"esgotado":return"text-red-400";default:return"text-gray-400"}})(a.stockStatus,a.stock).split(" ")[1]},children:[a.stock," un."]}),(0,b.jsxs)("td",{className:"px-6 py-4 text-right font-medium text-gray-200",children:["€",a.price.toFixed(2)]}),(0,b.jsx)("td",{className:"px-6 py-4 text-center",children:(0,b.jsx)("button",{className:"text-gray-400 hover:text-brand-yellow transition-colors",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})})]},a.id)}),0===a.length&&(0,b.jsx)("tr",{children:(0,b.jsx)("td",{colSpan:7,className:"text-center py-12 text-gray-500",children:"Nenhuma peça encontrada com os filtros aplicados."})})]})]})}),(0,b.jsx)("div",{className:"bg-gray-800 px-4 py-3 border-t border-gray-600 flex items-center justify-between sm:px-6",children:(0,b.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,b.jsx)("div",{children:(0,b.jsxs)("p",{className:"text-sm text-gray-400",children:["A mostrar ",(0,b.jsx)("span",{className:"font-medium text-gray-200",children:"1"})," a ",(0,b.jsx)("span",{className:"font-medium text-gray-200",children:a.length})," de ",(0,b.jsx)("span",{className:"font-medium text-gray-200",children:a.length})," resultados"]})}),(0,b.jsx)("div",{children:(0,b.jsxs)("nav",{className:"relative z-0 inline-flex shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,b.jsxs)("a",{href:"#",className:"relative inline-flex items-center px-2 py-2 border border-gray-600 bg-gray-800 text-sm font-medium text-gray-400 hover:bg-gray-700",children:[(0,b.jsx)("span",{className:"sr-only",children:"Anterior"}),(0,b.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),(0,b.jsx)("a",{href:"#","aria-current":"page",className:"z-10 bg-brand-yellow border-brand-yellow text-gray-900 relative inline-flex items-center px-4 py-2 border text-sm font-bold",children:"1"}),(0,b.jsx)("a",{href:"#",className:"bg-gray-800 border-gray-600 text-gray-400 hover:bg-gray-700 relative inline-flex items-center px-4 py-2 border text-sm font-medium",children:"2"}),(0,b.jsx)("a",{href:"#",className:"bg-gray-800 border-gray-600 text-gray-400 hover:bg-gray-700 relative inline-flex items-center px-4 py-2 border text-sm font-medium",children:"3"}),(0,b.jsxs)("a",{href:"#",className:"relative inline-flex items-center px-2 py-2 border border-gray-600 bg-gray-800 text-sm font-medium text-gray-400 hover:bg-gray-700",children:[(0,b.jsx)("span",{className:"sr-only",children:"Seguinte"}),(0,b.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})})]})}let f=({isOpen:a,onClose:d,onAddPart:e})=>{let[f,g]=(0,c.useState)({name:"",reference:"",category:"",stock:0,minStock:0,price:0,supplier:"",stockStatus:"em_stock"}),h=a=>{let{name:b,value:c}=a.target;g(a=>({...a,[b]:"stock"===b||"minStock"===b||"price"===b?Number(c):c}))};return a?(0,b.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4",children:[(0,b.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"Adicionar Nova Peça"}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),e(f),g({name:"",reference:"",category:"",stock:0,minStock:0,price:0,supplier:"",stockStatus:"em_stock"}),d()},className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Nome da Peça"}),(0,b.jsx)("input",{type:"text",name:"name",value:f.name,onChange:h,required:!0,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-brand-yellow"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Referência"}),(0,b.jsx)("input",{type:"text",name:"reference",value:f.reference,onChange:h,required:!0,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-brand-yellow"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Categoria"}),(0,b.jsxs)("select",{name:"category",value:f.category,onChange:h,required:!0,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-brand-yellow",children:[(0,b.jsx)("option",{value:"",children:"Selecionar categoria"}),(0,b.jsx)("option",{value:"Filtros",children:"Filtros"}),(0,b.jsx)("option",{value:"Óleos",children:"Óleos"}),(0,b.jsx)("option",{value:"Pastilhas",children:"Pastilhas"}),(0,b.jsx)("option",{value:"Discos",children:"Discos"}),(0,b.jsx)("option",{value:"Velas",children:"Velas"}),(0,b.jsx)("option",{value:"Baterias",children:"Baterias"}),(0,b.jsx)("option",{value:"Correias",children:"Correias"}),(0,b.jsx)("option",{value:"Outros",children:"Outros"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Stock Atual"}),(0,b.jsx)("input",{type:"number",name:"stock",value:f.stock,onChange:h,min:"0",required:!0,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-brand-yellow"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Stock Mínimo"}),(0,b.jsx)("input",{type:"number",name:"minStock",value:f.minStock,onChange:h,min:"0",required:!0,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-brand-yellow"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Preço (€)"}),(0,b.jsx)("input",{type:"number",name:"price",value:f.price,onChange:h,min:"0",step:"0.01",required:!0,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-brand-yellow"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Fornecedor"}),(0,b.jsx)("input",{type:"text",name:"supplier",value:f.supplier,onChange:h,required:!0,className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-brand-yellow"})]}),(0,b.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,b.jsx)("button",{type:"button",onClick:d,className:"px-4 py-2 text-gray-300 hover:text-white transition-colors",children:"Cancelar"}),(0,b.jsx)("button",{type:"submit",className:"px-4 py-2 bg-brand-yellow text-gray-900 rounded-md hover:bg-brand-yellow-dark transition-colors font-medium",children:"Adicionar Peça"})]})]})]})}):null};function g({isOpen:a,onClose:d,parts:e,onOrderParts:f,initialSelectedParts:g}){let[h,i]=(0,c.useState)([]),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)({name:"",reference:"",supplier:"",quantity:1});(0,c.useEffect)(()=>{a&&i(e.map(a=>{let b=g?.find(b=>b.part.id===a.id);return{part:a,quantity:b?b.quantity:1,selected:!!b}}))},[a,e,g]),(0,c.useEffect)(()=>{let a=h.filter(a=>a.selected);if(0===a.length)return void k("Selecione peças da lista acima para gerar o pedido.");let b="Olá, gostaria de encomendar as seguintes peças:\n\n";a.forEach(a=>{b+=`- ${a.quantity}x ${a.part.name} (Ref: ${a.part.reference})
`}),k(b+="\nObrigado,\nMQAuto")},[h]);let r=a=>{i(b=>b.map(b=>b.part.id===a?{...b,selected:!b.selected}:b))},s=h.filter(a=>a.part.name.toLowerCase().includes(l.toLowerCase())||a.part.reference.toLowerCase().includes(l.toLowerCase())||a.part.supplier.toLowerCase().includes(l.toLowerCase()));return a?(0,b.jsx)("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"bg-gray-800 border border-gray-600 w-full max-w-7xl p-6 shadow-2xl relative flex flex-col max-h-[90vh]",children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-100 mb-6 border-b border-gray-700 pb-4",children:"Encomendar Peças"}),(0,b.jsxs)("div",{className:"flex-1 flex mt-2 overflow-hidden gap-6",children:[(0,b.jsxs)("div",{className:"w-7/12 flex flex-col",children:[(0,b.jsxs)("div",{className:"flex gap-4 mb-4",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,b.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,b.jsx)("input",{type:"text",placeholder:"Pesquisar peças...",value:l,onChange:a=>m(a.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-900 border border-gray-600 text-white rounded-none focus:ring-1 focus:ring-brand-yellow focus:border-brand-yellow placeholder-gray-500"})]}),(0,b.jsxs)("button",{onClick:()=>o(!n),className:"px-4 py-2 bg-purple-600 text-white font-bold hover:bg-purple-700 transition-colors rounded-none flex items-center",children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Nova Peça"]})]}),n&&(0,b.jsxs)("div",{className:"mb-4 p-4 bg-gray-700 border border-gray-600",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"Adicionar Nova Peça à Encomenda"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Nome da Peça *"}),(0,b.jsx)("input",{type:"text",value:p.name,onChange:a=>q({...p,name:a.target.value}),className:"w-full bg-gray-800 border border-gray-500 text-white px-3 py-2 rounded-none focus:ring-1 focus:ring-brand-yellow outline-none",placeholder:"Ex: Filtro de Óleo"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Referência"}),(0,b.jsx)("input",{type:"text",value:p.reference,onChange:a=>q({...p,reference:a.target.value}),className:"w-full bg-gray-800 border border-gray-500 text-white px-3 py-2 rounded-none focus:ring-1 focus:ring-brand-yellow outline-none",placeholder:"Ex: BOS-0986452058"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Fornecedor *"}),(0,b.jsx)("input",{type:"text",value:p.supplier,onChange:a=>q({...p,supplier:a.target.value}),className:"w-full bg-gray-800 border border-gray-500 text-white px-3 py-2 rounded-none focus:ring-1 focus:ring-brand-yellow outline-none",placeholder:"Ex: Bosch Portugal"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-1",children:"Quantidade *"}),(0,b.jsx)("input",{type:"number",min:"1",value:p.quantity,onChange:a=>q({...p,quantity:parseInt(a.target.value)||1}),className:"w-full bg-gray-800 border border-gray-500 text-white px-3 py-2 rounded-none focus:ring-1 focus:ring-brand-yellow outline-none"})]})]}),(0,b.jsxs)("div",{className:"flex justify-end mt-4 space-x-2",children:[(0,b.jsx)("button",{onClick:()=>o(!1),className:"px-4 py-2 bg-gray-600 text-white hover:bg-gray-500 transition-colors rounded-none",children:"Cancelar"}),(0,b.jsx)("button",{onClick:()=>{if(p.name&&p.supplier){let a={part:{id:`custom-${Date.now()}`,reference:p.reference||"N/A",name:p.name,category:"custom",supplier:p.supplier,stock:0,price:0,stockStatus:"esgotado"},quantity:p.quantity,selected:!0};i(b=>[...b,a]),q({name:"",reference:"",supplier:"",quantity:1}),o(!1)}},className:"px-4 py-2 bg-green-600 text-white font-bold hover:bg-green-700 transition-colors rounded-none",children:"Adicionar"})]})]}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto pr-2 space-y-3",children:[s.filter(a=>!a.selected).map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between bg-gray-700 p-3 border border-gray-600",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-200",children:a.part.name}),(0,b.jsxs)("p",{className:"text-xs text-gray-400",children:["Ref: ",a.part.reference," | Fornecedor: ",a.part.supplier]})]}),(0,b.jsxs)("button",{onClick:()=>r(a.part.id),className:"px-3 py-1 bg-green-600 text-white text-xs font-bold hover:bg-green-700 transition-colors rounded-none flex items-center",children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Add"]})]},a.part.id)),0===s.filter(a=>!a.selected).length&&!n&&(0,b.jsx)("div",{className:"text-center py-12",children:(0,b.jsx)("p",{className:"text-gray-500",children:"Nenhuma peça encontrada ou todas já foram adicionadas."})})]})]}),(0,b.jsxs)("div",{className:"w-5/12 flex flex-col pl-6 border-l border-gray-700",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-white mb-4",children:"Resumo da Encomenda"}),(0,b.jsxs)("div",{className:"flex-1 overflow-y-auto pr-2 space-y-3",children:[h.filter(a=>a.selected).map(a=>(0,b.jsxs)("div",{className:"bg-gray-900/50 p-3 border border-gray-700",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-gray-100",children:a.part.name}),(0,b.jsxs)("p",{className:"text-xs text-gray-400",children:["Ref: ",a.part.reference]})]}),(0,b.jsx)("button",{onClick:()=>r(a.part.id),className:"text-gray-500 hover:text-red-400 transition-colors",children:(0,b.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,b.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),(0,b.jsxs)("div",{className:"flex items-center justify-end mt-2",children:[(0,b.jsx)("label",{className:"text-xs text-gray-400 mr-2",children:"Qtd:"}),(0,b.jsx)("input",{type:"number",min:"1",value:a.quantity,onChange:b=>{var c,d;return c=a.part.id,d=parseInt(b.target.value)||1,void i(a=>a.map(a=>a.part.id===c?{...a,quantity:Math.max(1,d)}:a))},className:"w-20 bg-gray-800 border border-gray-500 text-white text-sm px-2 py-1 rounded-none focus:ring-1 focus:ring-brand-yellow outline-none"})]})]},a.part.id)),0===h.filter(a=>a.selected).length&&(0,b.jsx)("div",{className:"flex-1 flex items-center justify-center text-center h-full",children:(0,b.jsxs)("div",{className:"p-4 border-2 border-dashed border-gray-700",children:[(0,b.jsx)("svg",{className:"mx-auto h-10 w-10 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),(0,b.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Adicione peças da lista à esquerda."})]})})]}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-400 mb-2",children:"Texto para Envio"}),(0,b.jsx)("textarea",{value:j,readOnly:!0,rows:5,className:"w-full bg-gray-900 border border-gray-600 text-white px-3 py-2 rounded-none focus:ring-1 focus:ring-brand-yellow focus:border-brand-yellow outline-none font-mono text-sm"}),(0,b.jsxs)("div",{className:"flex justify-end space-x-2 mt-2",children:[(0,b.jsxs)("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(j)},className:"px-3 py-1 bg-blue-600 text-white font-bold text-sm hover:bg-blue-700 transition-colors rounded-none flex items-center",children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),"Copiar"]}),(0,b.jsxs)("button",{type:"button",onClick:()=>{let a=encodeURIComponent(j);window.open(`https://wa.me/?text=${a}`,"_blank")},className:"px-3 py-1 bg-green-600 text-white font-bold text-sm hover:bg-green-700 transition-colors rounded-none flex items-center",children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.536 0 1.52 1.115 2.988 1.264 3.186.149.198 2.19 3.349 5.302 4.695.742.32 1.321.51 1.771.653.742.236 1.418.203 1.95.124.595-.086 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})}),"WhatsApp"]})]})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 mt-6 border-t border-gray-700",children:[(0,b.jsx)("button",{type:"button",onClick:d,className:"px-4 py-2 bg-gray-700 text-gray-300 hover:bg-gray-600 transition-colors rounded-none border border-gray-600",children:"Fechar"}),(0,b.jsx)("button",{type:"button",onClick:()=>{f(h.filter(a=>a.selected).map(a=>({part:a.part,quantity:a.quantity})))},disabled:0===h.filter(a=>a.selected).length,className:"px-6 py-2 bg-brand-yellow text-gray-900 font-bold hover:bg-brand-yellow-dark transition-colors rounded-none disabled:bg-gray-600 disabled:text-gray-400 disabled:cursor-not-allowed",children:"Criar Encomenda"})]})]})}):null}let h=({isOpen:a,onClose:d,parts:e,onReorder:f})=>{let[g,h]=(0,c.useState)(""),[i,j]=(0,c.useState)("todos"),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)([{id:"1",orderNumber:"ENC-2024-001",supplier:"Bosch Portugal",parts:[{part:e.find(a=>"1"===a.id),quantity:20},{part:e.find(a=>"4"===a.id),quantity:10}],orderDate:"2024-01-15",expectedDate:"2024-01-25",status:"recebido",totalValue:320},{id:"2",orderNumber:"ENC-2024-002",supplier:"AutoParts SA",parts:[{part:e.find(a=>"2"===a.id),quantity:15}],orderDate:"2024-01-18",expectedDate:"2024-01-28",status:"em_transito",totalValue:688.5},{id:"3",orderNumber:"ENC-2024-003",supplier:"LubriNorte",parts:[{part:e.find(a=>"3"===a.id),quantity:8}],orderDate:"2024-01-20",expectedDate:"2024-01-30",status:"pendente",totalValue:440}]),o=m.filter(a=>(a.orderNumber.toLowerCase().includes(g.toLowerCase())||a.supplier.toLowerCase().includes(g.toLowerCase()))&&("todos"===i||a.status===i)),p=a=>{switch(a){case"pendente":return"Pendente";case"todos":return"Todos";case"em_transito":return"Em Trânsito";case"recebido":return"Recebido";case"cancelado":return"Cancelado";default:return a}};return a?(0,b.jsx)("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"bg-gray-800 border border-gray-600 w-full max-w-6xl mx-4 max-h-[90vh] flex flex-col shadow-2xl",children:[(0,b.jsxs)("div",{className:"p-6 border-b border-gray-700",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:"Encomendas de Peças"}),(0,b.jsx)("button",{onClick:d,className:"text-gray-400 hover:text-white transition-colors",children:(0,b.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,b.jsxs)("div",{className:"mt-6 flex flex-col md:flex-row gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,b.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,b.jsx)("input",{type:"text",placeholder:"Pesquisar por número de encomenda ou fornecedor...",value:g,onChange:a=>h(a.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-900 border border-gray-600 text-white rounded-none focus:ring-1 focus:ring-brand-yellow focus:border-brand-yellow placeholder-gray-500"})]}),(0,b.jsx)("div",{className:"flex items-center gap-2",children:["todos","pendente","em_transito","recebido","cancelado"].map(a=>(0,b.jsx)("button",{onClick:()=>j(a),className:`px-4 py-2 text-sm font-bold rounded-none border transition-colors ${i===a?"bg-brand-yellow text-gray-900 border-brand-yellow":"bg-gray-700 text-gray-300 border-gray-600 hover:bg-gray-600"}`,children:p(a).charAt(0).toUpperCase()+p(a).slice(1)},a))})]})]}),(0,b.jsx)("div",{className:"overflow-y-auto flex-1",children:(0,b.jsxs)("div",{className:"p-6 space-y-6",children:[o.map(a=>(0,b.jsxs)("div",{className:"bg-gray-700 border border-gray-600 rounded-none",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center p-4 cursor-pointer hover:bg-gray-600/50",onClick:()=>{var b;return b=a.id,void l(a=>a.includes(b)?a.filter(a=>a!==b):[...a,b])},children:[(0,b.jsxs)("div",{className:"flex-1 grid grid-cols-5 gap-4 items-center",children:[(0,b.jsxs)("div",{className:"col-span-2",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-white",children:a.orderNumber}),(0,b.jsx)("p",{className:"text-sm text-gray-400",children:a.supplier})]}),(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("p",{className:"text-gray-400",children:"Encomendado:"}),(0,b.jsx)("p",{className:"text-gray-200 font-medium",children:new Date(a.orderDate).toLocaleDateString("pt-PT")})]}),(0,b.jsxs)("div",{className:"text-sm",children:[(0,b.jsx)("p",{className:"text-gray-400",children:"Previsto:"}),(0,b.jsx)("p",{className:"text-gray-200 font-medium",children:new Date(a.expectedDate).toLocaleDateString("pt-PT")})]}),(0,b.jsx)("div",{className:"text-center",children:(0,b.jsxs)("select",{value:a.status,onChange:b=>{var c,d;return c=a.id,d=b.target.value,void(console.log(`Changing status of order ${c} to ${d}`),n(a=>a.map(a=>a.id===c?{...a,status:d}:a)))},className:`px-3 py-1 text-xs font-bold rounded-full border-0 bg-transparent cursor-pointer focus:ring-1 focus:ring-brand-yellow ${(a=>{switch(a){case"pendente":return"text-yellow-400 bg-yellow-900/50";case"em_transito":return"text-blue-400 bg-blue-900/50";case"recebido":return"text-green-400 bg-green-900/50";case"cancelado":return"text-red-400 bg-red-900/50";default:return"text-gray-400 bg-gray-900/50"}})(a.status)}`,onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("option",{value:"pendente",className:"bg-gray-800 text-yellow-400",children:"Pendente"}),(0,b.jsx)("option",{value:"em_transito",className:"bg-gray-800 text-blue-400",children:"Em Trânsito"}),(0,b.jsx)("option",{value:"recebido",className:"bg-gray-800 text-green-400",children:"Recebido"}),(0,b.jsx)("option",{value:"cancelado",className:"bg-gray-800 text-red-400",children:"Cancelado"})]})})]}),(0,b.jsx)("div",{className:"ml-4",children:(0,b.jsx)("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${k.includes(a.id)?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})})]}),k.includes(a.id)&&(0,b.jsxs)("div",{className:"border-t border-gray-600 bg-gray-900/30",children:[(0,b.jsx)("div",{className:"p-4 space-y-3",children:a.parts.map((c,d)=>(0,b.jsxs)("div",{className:"flex justify-between items-center bg-gray-800 p-3 border border-gray-700",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-white font-medium",children:c.part.name}),(0,b.jsxs)("p",{className:"text-gray-400 text-sm",children:["Ref: ",c.part.reference]})]}),(0,b.jsxs)("div",{className:"text-right mr-6",children:[(0,b.jsxs)("p",{className:"text-white",children:[c.quantity," un."]}),(0,b.jsxs)("p",{className:"text-gray-400 text-sm",children:["€",(c.part.price*c.quantity).toFixed(2)]})]}),"recebido"===a.status&&(0,b.jsxs)("button",{onClick:()=>{var b,d,e;return b=a.id,d=c.part.id,e=c.quantity,void console.log(`Adding ${e} units of part ${d} from order ${b} to inventory`)},className:"px-3 py-1 bg-green-600 text-white text-sm hover:bg-green-700 transition-colors rounded-none flex items-center",children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Stock"]})]},d))}),(0,b.jsxs)("div",{className:"p-4 border-t border-gray-700 flex justify-between items-center",children:[(0,b.jsx)("span",{className:"text-gray-400 font-medium",children:"Total da Encomenda:"}),(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("span",{className:"text-white font-bold text-lg",children:["€",a.totalValue.toFixed(2)]}),f&&(0,b.jsxs)("button",{onClick:()=>f(a.parts),className:"px-4 py-2 bg-orange-600 text-white font-bold text-sm hover:bg-orange-700 transition-colors rounded-none flex items-center",children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 4v5h5M20 19v-5h-5M4 19h16M4 5h16"})}),"Reencomendar"]})]})]})]})]},a.id)),0===o.length&&(0,b.jsxs)("div",{className:"text-center py-16",children:[(0,b.jsx)("svg",{className:"mx-auto h-12 w-12 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:(0,b.jsx)("path",{vectorEffect:"non-scaling-stroke",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,b.jsx)("h3",{className:"mt-2 text-sm font-medium text-white",children:"Nenhuma encomenda encontrada"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Tente ajustar a sua pesquisa ou filtros."})]})]})})]})}):null},i=[{id:"1",reference:"BOS-0986452058",name:"Filtro de Óleo Bosch",category:"filtros",supplier:"Bosch Portugal",stock:45,price:12.5,stockStatus:"em_stock"},{id:"2",reference:"BRE-P85020",name:"Pastilhas Travão Brembo (Frente)",category:"travoes",supplier:"AutoParts SA",stock:4,price:45.9,stockStatus:"baixo_stock"},{id:"3",reference:"CAS-EDGE-5W30",name:"Óleo Castrol Edge 5W30 (5L)",category:"motor",supplier:"LubriNorte",stock:12,price:55,stockStatus:"em_stock"},{id:"4",reference:"NGK-96588",name:"Vela de Ignição NGK Laser Iridium",category:"motor",supplier:"NGK Spark Plugs",stock:0,price:18.2,stockStatus:"esgotado"},{id:"5",reference:"VAL-574623",name:"Escovas Limpa-Vidros Valeo Silencio",category:"acessorios",supplier:"Valeo Service",stock:20,price:28.5,stockStatus:"em_stock"}];function j(){let[a]=(0,c.useState)(i),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(""),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(void 0),x=a.filter(a=>{let b=""===j||a.name.toLowerCase().includes(j.toLowerCase())||a.reference.toLowerCase().includes(j.toLowerCase()),c=""===l||a.category===l,d=""===n||a.stockStatus===n;return b&&c&&d});return(0,b.jsxs)("div",{className:"flex h-screen bg-gray-800",children:[(0,b.jsx)(d.default,{activePage:"pecas"}),(0,b.jsxs)("main",{className:"flex-1 relative overflow-y-auto focus:outline-none p-8",children:[(0,b.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-8 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl font-bold text-gray-100 leading-tight",children:"Catálogo de Peças"}),(0,b.jsx)("p",{className:"mt-1 text-gray-400",children:"Gerencie o inventário e preços"})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsxs)("button",{onClick:()=>u(!0),className:"px-4 py-2 bg-blue-700 text-gray-200 font-bold hover:bg-blue-600 transition-colors rounded-none flex items-center shadow-md border border-blue-600",children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Ver Encomendas"]}),(0,b.jsxs)("button",{onClick:()=>s(!0),className:"px-4 py-2 bg-gray-700 text-gray-200 font-bold hover:bg-gray-600 transition-colors rounded-none flex items-center shadow-md border border-gray-600",children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),"Encomendar Peças"]}),(0,b.jsxs)("button",{onClick:()=>q(!0),className:"px-4 py-2 bg-brand-yellow-dark text-white font-bold hover:bg-yellow-600 transition-colors rounded-none flex items-center shadow-md",children:[(0,b.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Adicionar Peça"]})]})]}),(0,b.jsxs)("div",{className:"bg-gray-700 border border-gray-600 p-4 mb-6 rounded-none flex flex-col md:flex-row gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,b.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,b.jsx)("input",{type:"text",placeholder:"Pesquisar por nome, referência ou código...",value:j,onChange:a=>k(a.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-800 border border-gray-600 text-white rounded-none focus:ring-1 focus:ring-brand-yellow focus:border-brand-yellow placeholder-gray-500"})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsxs)("select",{value:l,onChange:a=>m(a.target.value),className:"bg-gray-800 border border-gray-600 text-gray-300 rounded-none focus:ring-brand-yellow focus:border-brand-yellow px-4 py-2",children:[(0,b.jsx)("option",{value:"",children:"Todas as Categorias"}),(0,b.jsx)("option",{value:"motor",children:"Motor"}),(0,b.jsx)("option",{value:"travoes",children:"Travões"}),(0,b.jsx)("option",{value:"suspensao",children:"Suspensão"}),(0,b.jsx)("option",{value:"transmissao",children:"Transmissão"}),(0,b.jsx)("option",{value:"sistema-eletrico",children:"Sistema Elétrico"}),(0,b.jsx)("option",{value:"sistema-arrefecimento",children:"Sistema de Arrefecimento"}),(0,b.jsx)("option",{value:"filtros",children:"Filtros"}),(0,b.jsx)("option",{value:"acessorios",children:"Acessórios"}),(0,b.jsx)("option",{value:"carrocaria",children:"Carroçaria"}),(0,b.jsx)("option",{value:"vidros",children:"Vidros"}),(0,b.jsx)("option",{value:"pneus-rodas",children:"Pneus e Rodas"}),(0,b.jsx)("option",{value:"lubrificantes",children:"Lubrificantes"}),(0,b.jsx)("option",{value:"exaustao",children:"Exaustão"}),(0,b.jsx)("option",{value:"direcao",children:"Direção"}),(0,b.jsx)("option",{value:"ar-condicionado",children:"Ar Condicionado"})]}),(0,b.jsxs)("select",{value:n,onChange:a=>o(a.target.value),className:"bg-gray-800 border border-gray-600 text-gray-300 rounded-none focus:ring-brand-yellow focus:border-brand-yellow px-4 py-2",children:[(0,b.jsx)("option",{value:"",children:"Status de Stock"}),(0,b.jsx)("option",{value:"em_stock",children:"Em Stock"}),(0,b.jsx)("option",{value:"baixo_stock",children:"Baixo Stock"}),(0,b.jsx)("option",{value:"esgotado",children:"Esgotado"})]})]})]}),(0,b.jsx)(e,{parts:x})]}),(0,b.jsx)(f,{isOpen:p,onClose:()=>q(!1),onAddPart:a=>{console.log("Adding new part:",a),q(!1)}}),(0,b.jsx)(g,{isOpen:r,onClose:()=>s(!1),parts:a,onOrderParts:a=>{console.log("Ordering parts:",a),s(!1),w(void 0)},initialSelectedParts:v}),(0,b.jsx)(h,{isOpen:t,onClose:()=>u(!1),parts:a,onReorder:a=>{w(a),s(!0),u(!1)}})]})}a.s(["default",()=>j],71547)}];

//# sourceMappingURL=src_app_pecas_page_tsx_18a93349._.js.map