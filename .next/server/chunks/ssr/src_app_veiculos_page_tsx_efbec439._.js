module.exports=[88656,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(38861);function e({vehicles:a,onViewHistory:c}){return(0,b.jsx)("div",{className:"bg-gray-700 border border-gray-600 rounded-none overflow-hidden shadow-sm",children:(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full text-sm text-left text-gray-400",children:[(0,b.jsx)("thead",{className:"text-xs text-gray-300 uppercase bg-gray-800 border-b border-gray-600",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Matrícula"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Marca / Modelo"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Cliente"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Ano"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Última Intervenção"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-center",children:"Ações"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-600",children:a.map(a=>{let e=(0,d.getClientById)(a.clientId);return(0,b.jsxs)("tr",{className:"hover:bg-gray-600 transition-colors",children:[(0,b.jsx)("td",{className:"px-6 py-4 font-medium text-gray-100 font-mono",children:a.licensePlate}),(0,b.jsx)("td",{className:"px-6 py-4 text-gray-200",children:`${a.make} ${a.model}`}),(0,b.jsx)("td",{className:"px-6 py-4 text-gray-300",children:e?.nome||"Cliente não encontrado"}),(0,b.jsx)("td",{className:"px-6 py-4 text-gray-400",children:a.year}),(0,b.jsx)("td",{className:"px-6 py-4 text-gray-300",children:a.lastIntervention}),(0,b.jsx)("td",{className:"px-6 py-4 text-center",children:(0,b.jsxs)("button",{onClick:()=>c(a),className:"text-brand-yellow hover:text-brand-yellow-light font-medium transition-colors flex items-center justify-center mx-auto",children:[(0,b.jsx)("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Histórico"]})})]},a.id)})})]})})})}function f({isOpen:a,onClose:d}){let[e,f]=(0,c.useState)({licensePlate:"",vin:"",make:"",model:"",year:"",color:"",mileage:"",clientProfile:"normal",clientName:"",clientPhone:"",clientEmail:"",serviceType:"",priority:"normal",description:"",mechanic:"",estimatedTime:""}),g=a=>{let{name:b,value:c}=a.target;f(a=>({...a,[b]:c}))};return a?(0,b.jsx)("div",{className:"fixed inset-0 bg-gray-900 bg-opacity-80 flex items-center justify-center z-50 backdrop-blur-sm",children:(0,b.jsxs)("div",{className:"bg-gray-800 border border-gray-600 w-full max-w-4xl p-6 shadow-2xl relative max-h-[90vh] overflow-y-auto",children:[(0,b.jsxs)("div",{className:"flex justify-between items-start mb-6 border-b border-gray-700 pb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-gray-100",children:"Novo Veículo"}),(0,b.jsx)("p",{className:"text-sm text-brand-yellow font-mono mt-1",children:"Registe um novo veículo na oficina"})]}),(0,b.jsx)("button",{type:"button",onClick:d,className:"text-gray-400 hover:text-white",children:(0,b.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,b.jsxs)("form",{onSubmit:a=>{a.preventDefault(),console.log("New vehicle data:",e),alert("Veículo registado com sucesso!"),d(),f({licensePlate:"",vin:"",make:"",model:"",year:"",color:"",mileage:"",clientProfile:"normal",clientName:"",clientPhone:"",clientEmail:"",serviceType:"",priority:"normal",description:"",mechanic:"",estimatedTime:""})},className:"space-y-6",children:[(0,b.jsxs)("div",{className:"border-b border-gray-600 pb-6",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-gray-100 mb-4",children:"Dados do Veículo"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"licensePlate",className:"block text-sm font-medium text-gray-300",children:"Matrícula *"}),(0,b.jsx)("input",{type:"text",id:"licensePlate",name:"licensePlate",value:e.licensePlate,onChange:g,className:"mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-none shadow-sm focus:ring-brand-yellow focus:border-brand-yellow",placeholder:"AA-11-BB",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"vin",className:"block text-sm font-medium text-gray-300",children:"Número do Quadro (VIN)"}),(0,b.jsx)("input",{type:"text",id:"vin",name:"vin",value:e.vin,onChange:g,className:"mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-none shadow-sm focus:ring-brand-yellow focus:border-brand-yellow",placeholder:"1HGCM82633A123456"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"make",className:"block text-sm font-medium text-gray-300",children:"Marca *"}),(0,b.jsxs)("select",{id:"make",name:"make",value:e.make,onChange:g,className:"mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-none shadow-sm focus:ring-brand-yellow focus:border-brand-yellow",required:!0,children:[(0,b.jsx)("option",{value:"",children:"Selecionar marca"}),(0,b.jsx)("option",{value:"audi",children:"Audi"}),(0,b.jsx)("option",{value:"bmw",children:"BMW"}),(0,b.jsx)("option",{value:"mercedes",children:"Mercedes-Benz"}),(0,b.jsx)("option",{value:"volkswagen",children:"Volkswagen"}),(0,b.jsx)("option",{value:"peugeot",children:"Peugeot"}),(0,b.jsx)("option",{value:"renault",children:"Renault"}),(0,b.jsx)("option",{value:"ferrari",children:"Ferrari"}),(0,b.jsx)("option",{value:"other",children:"Outra"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"model",className:"block text-sm font-medium text-gray-300",children:"Modelo *"}),(0,b.jsx)("input",{type:"text",id:"model",name:"model",value:e.model,onChange:g,className:"mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-none shadow-sm focus:ring-brand-yellow focus:border-brand-yellow",placeholder:"Golf",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"year",className:"block text-sm font-medium text-gray-300",children:"Ano"}),(0,b.jsx)("input",{type:"number",id:"year",name:"year",value:e.year,onChange:g,className:"mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-none shadow-sm focus:ring-brand-yellow focus:border-brand-yellow",placeholder:"2020",min:"1900",max:"2024"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"color",className:"block text-sm font-medium text-gray-300",children:"Cor"}),(0,b.jsx)("input",{type:"text",id:"color",name:"color",value:e.color,onChange:g,className:"mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-none shadow-sm focus:ring-brand-yellow focus:border-brand-yellow",placeholder:"Branco"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"mileage",className:"block text-sm font-medium text-gray-300",children:"Quilometragem"}),(0,b.jsx)("input",{type:"number",id:"mileage",name:"mileage",value:e.mileage,onChange:g,className:"mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-none shadow-sm focus:ring-brand-yellow focus:border-brand-yellow",placeholder:"50000",min:"0"})]})]}),(0,b.jsxs)("div",{className:"mt-6",children:[(0,b.jsx)("label",{htmlFor:"clientProfile",className:"block text-sm font-medium text-gray-300",children:"Perfil de Cliente"}),(0,b.jsxs)("select",{id:"clientProfile",name:"clientProfile",value:e.clientProfile,onChange:g,className:"mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-none shadow-sm focus:ring-brand-yellow focus:border-brand-yellow",children:[(0,b.jsx)("option",{value:"normal",children:"Normal"}),(0,b.jsx)("option",{value:"tvde-interno",children:"TVDE Interno"}),(0,b.jsx)("option",{value:"tvde-externo",children:"TVDE Externo"}),(0,b.jsx)("option",{value:"outro",children:"Outro"})]})]})]}),(0,b.jsxs)("div",{className:"border-b border-gray-600 pb-6",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-gray-100 mb-4",children:"Dados do Cliente"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"clientName",className:"block text-sm font-medium text-gray-300",children:"Nome do Cliente *"}),(0,b.jsx)("input",{type:"text",id:"clientName",name:"clientName",value:e.clientName,onChange:g,className:"mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-none shadow-sm focus:ring-brand-yellow focus:border-brand-yellow",placeholder:"João Silva",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"clientPhone",className:"block text-sm font-medium text-gray-300",children:"Telefone *"}),(0,b.jsx)("input",{type:"tel",id:"clientPhone",name:"clientPhone",value:e.clientPhone,onChange:g,className:"mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-none shadow-sm focus:ring-brand-yellow focus:border-brand-yellow",placeholder:"+351 912 345 678",required:!0})]})]}),(0,b.jsxs)("div",{className:"mt-6",children:[(0,b.jsx)("label",{htmlFor:"clientEmail",className:"block text-sm font-medium text-gray-300",children:"Email"}),(0,b.jsx)("input",{type:"email",id:"clientEmail",name:"clientEmail",value:e.clientEmail,onChange:g,className:"mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-none shadow-sm focus:ring-brand-yellow focus:border-brand-yellow",placeholder:"joao.silva@email.com"})]})]}),(0,b.jsxs)("div",{className:"border-b border-gray-600 pb-6",children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-gray-100 mb-4",children:"Informações do Serviço"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"serviceType",className:"block text-sm font-medium text-gray-300",children:"Tipo de Serviço *"}),(0,b.jsxs)("select",{id:"serviceType",name:"serviceType",value:e.serviceType,onChange:g,className:"mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-none shadow-sm focus:ring-brand-yellow focus:border-brand-yellow",required:!0,children:[(0,b.jsx)("option",{value:"",children:"Selecionar tipo"}),(0,b.jsx)("option",{value:"maintenance",children:"Manutenção"}),(0,b.jsx)("option",{value:"repair",children:"Reparação"}),(0,b.jsx)("option",{value:"inspection",children:"Inspeção"}),(0,b.jsx)("option",{value:"emergency",children:"Emergência"}),(0,b.jsx)("option",{value:"other",children:"Outro"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-300",children:"Prioridade"}),(0,b.jsxs)("select",{id:"priority",name:"priority",value:e.priority,onChange:g,className:"mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-none shadow-sm focus:ring-brand-yellow focus:border-brand-yellow",children:[(0,b.jsx)("option",{value:"normal",children:"Normal"}),(0,b.jsx)("option",{value:"urgent",children:"Urgente"}),(0,b.jsx)("option",{value:"low",children:"Baixa"})]})]})]}),(0,b.jsxs)("div",{className:"mt-6",children:[(0,b.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-300",children:"Descrição do Problema *"}),(0,b.jsx)("textarea",{id:"description",name:"description",rows:4,value:e.description,onChange:g,className:"mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-none shadow-sm focus:ring-brand-yellow focus:border-brand-yellow",placeholder:"Descreva o problema ou serviço necessário...",required:!0})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"text-lg font-semibold text-gray-100 mb-4",children:"Atribuição"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"mechanic",className:"block text-sm font-medium text-gray-300",children:"Mecânico Responsável"}),(0,b.jsxs)("select",{id:"mechanic",name:"mechanic",value:e.mechanic,onChange:g,className:"mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-none shadow-sm focus:ring-brand-yellow focus:border-brand-yellow",children:[(0,b.jsx)("option",{value:"",children:"Selecionar mecânico"}),(0,b.jsx)("option",{value:"carlos",children:"Carlos P."}),(0,b.jsx)("option",{value:"rui",children:"Rui Alves"}),(0,b.jsx)("option",{value:"joaquim",children:"Joaquim F."}),(0,b.jsx)("option",{value:"auto",children:"Atribuição automática"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{htmlFor:"estimatedTime",className:"block text-sm font-medium text-gray-300",children:"Tempo Estimado (horas)"}),(0,b.jsx)("input",{type:"number",id:"estimatedTime",name:"estimatedTime",value:e.estimatedTime,onChange:g,className:"mt-1 block w-full bg-gray-700 border-gray-600 text-white rounded-none shadow-sm focus:ring-brand-yellow focus:border-brand-yellow",placeholder:"2",min:"0.5",step:"0.5"})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-700",children:[(0,b.jsx)("button",{type:"button",onClick:d,className:"px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 border border-gray-600 rounded-none hover:bg-gray-600",children:"Cancelar"}),(0,b.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-gray-900 bg-brand-yellow border border-transparent rounded-none hover:bg-brand-yellow-dark",children:"Registar Veículo"})]})]})]})}):null}var g=a.i(53978);function h(){let[a,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)(!1);return((0,c.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/veiculos");if(!a.ok)throw Error("Failed to fetch vehicles");let b=await a.json();h(b)}catch(a){l(a instanceof Error?a.message:"An error occurred")}finally{j(!1)}})()},[]),i)?(0,b.jsx)("div",{children:"Loading..."}):k?(0,b.jsxs)("div",{children:["Error: ",k]}):(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{children:"Veículos"}),(0,b.jsx)("button",{onClick:()=>n(!0),children:"Novo Veículo"}),(0,b.jsx)(e,{vehicles:a,onViewHistory:a=>{p({id:a.id,plate:a.licensePlate,makeModel:`${a.make} ${a.model}`,client:(0,d.getClientById)(a.clientId)?.nome||"Cliente não encontrado",year:a.year,lastIntervention:a.lastIntervention}),r(!0)}}),(0,b.jsx)(f,{isOpen:m,onClose:()=>n(!1)}),(0,b.jsx)(g.default,{isOpen:q,onClose:()=>r(!1),vehicle:o})]})}a.s(["default",()=>h],88656)}];

//# sourceMappingURL=src_app_veiculos_page_tsx_efbec439._.js.map